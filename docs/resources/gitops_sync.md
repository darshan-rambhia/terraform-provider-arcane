---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "arcane_gitops_sync Resource - terraform-provider-arcane"
subcategory: ""
description: |-
  Manages a GitOps sync configuration for an Arcane environment.
  A GitOps sync links a git repository to an environment, allowing Arcane to automatically
  deploy Docker Compose stacks from a repository. When auto_sync is enabled, Arcane will
  periodically pull changes from the repository and redeploy the stack.
  Example Usage
  Basic GitOps Sync
  
  resource "arcane_gitops_sync" "webapp" {
    environment_id = arcane_environment.production.id
    repository_id  = arcane_git_repository.infra.id
    path           = "apps/webapp"
    branch         = "main"
    compose_file   = "docker-compose.yml"
    auto_sync      = true
    sync_interval  = "5m"
  }
  
  Minimal Configuration
  
  resource "arcane_gitops_sync" "webapp" {
    environment_id = arcane_environment.production.id
    repository_id  = arcane_git_repository.infra.id
  }
  
  Import
  GitOps syncs can be imported using environment_id/sync_id:
  
  terraform import arcane_gitops_sync.webapp env-id/sync-id
---

# arcane_gitops_sync (Resource)

Manages a GitOps sync configuration for an Arcane environment.

A GitOps sync links a git repository to an environment, allowing Arcane to automatically
deploy Docker Compose stacks from a repository. When auto_sync is enabled, Arcane will
periodically pull changes from the repository and redeploy the stack.

## Example Usage

### Basic GitOps Sync

```hcl
resource "arcane_gitops_sync" "webapp" {
  environment_id = arcane_environment.production.id
  repository_id  = arcane_git_repository.infra.id
  path           = "apps/webapp"
  branch         = "main"
  compose_file   = "docker-compose.yml"
  auto_sync      = true
  sync_interval  = "5m"
}
```

### Minimal Configuration

```hcl
resource "arcane_gitops_sync" "webapp" {
  environment_id = arcane_environment.production.id
  repository_id  = arcane_git_repository.infra.id
}
```

## Import

GitOps syncs can be imported using `environment_id/sync_id`:

```shell
terraform import arcane_gitops_sync.webapp env-id/sync-id
```

## Example Usage

```terraform
resource "arcane_gitops_sync" "webapp" {
  environment_id = arcane_environment.production.id
  repository_id  = arcane_git_repository.infra.id
  path           = "apps/webapp"
  branch         = "main"
  compose_file   = "docker-compose.yml"
  auto_sync      = true
  sync_interval  = "5m"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment_id` (String) The ID of the environment to sync to.
- `repository_id` (String) The ID of the git repository to sync from.

### Optional

- `auto_sync` (Boolean) Whether to automatically sync changes from the repository. Defaults to `false`.
- `branch` (String) The branch to sync from. Defaults to the repository's default branch.
- `compose_file` (String) The name of the compose file to deploy. Defaults to `docker-compose.yml`.
- `path` (String) The path within the repository containing the compose file.
- `sync_interval` (String) How often to check for changes (e.g. `5m`, `1h`). Only used when `auto_sync` is enabled.

### Read-Only

- `id` (String) The unique identifier of the GitOps sync.
- `last_sync_at` (String) The timestamp of the last successful sync in RFC3339 format.
- `last_sync_commit` (String) The commit SHA of the last successful sync.
